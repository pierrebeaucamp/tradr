@(username:String)(state:String)

@main("Change Password"){

   <div id="fullfailchange" style="width:100%;height:100%;position:absolute;z-index:1;top:-100px;opacity:0.4;background-color:white;">
   </div>
       <div id="userloginchangepassword" class="userlogin">
     <ul>
       <li class="usernav">welcome @username</li>
       <li class="usernav"><a href="/changepassword">change password</a></li>
       <li class="usernav">service</li>
       <li class="usernav"><a href="/logout">logout</a></li>
     </ul>
    </div>
    
   <div id="failchange" class="failchange" style="">
              <label id="errormessagechange" style="color:#3367D6;font-size"></label>
              <div style="top:60px;left:40px;position:relative;width:300px;">
              <label style="color:#3367D6;font-size:20px;"><a href="/register" style="text-decoration:none">Retry!</a></label>
              </div>
              
   </div>
   <section>
        <main>
            <form action="/afterchange" method="post">
                <fieldset>
                    <legend>Change your password</legend>
                     <div class="form-group"> 
                        <label for="input-username" class="input">User Name *</label>
                        <input id="usernamechange" type="text" name="usernameinchange"  required autofocus class="input-field">
                    </div>
                    <div class="form-group">    
                        <label for="input-passwword" class="input">Old Password *</label>
                        <input id="Oldpassword" type="password" name="oldpassword" required autofocus class="input-field">           
                    </div>
                    <div class="form-group">    
                        <label for="input-password" class="input">New Password *</label>
                        <input id="Newpassword" type="password" name="newpassword" required autofocus class="input-field">
                    </div>
                    <div class="form-group">    
                        <label for="input-password" class="input"> Repeat New Password *</label>
                        <input id="Repeatnewpassword" type="password" name="repeatnewpassword" required autofocus class="input-field">
                    </div>
                    <div class="form-group">
                        <input type="submit" value="Submit" class="button--primary" >
                    </div>

                    <script type="text/javascript">
                    document.getElementById('fullfailchange').style.display="none";
                    document.getElementById('failchange').style.display="none";
                    document.getElementById('userloginchangepassword').style.display="none";
                    
                    if(! @username.equals("")){
                    	document.getElementById('userloginchangepassword').style.display="";
                    }
                    
                    if(@state.equals("newpasswordwrong")){
                    	document.getElementById('fullfailchange').style.display="";
                    	document.getElementById('failchange').style.display="";
                    	document.getElementById('errormessagechange').innerHTML="New password should be between 6 and 12 bite";
                    }
                    
                    else if(@state.equals("newpasswordnotmatch")){
                    	document.getElementById('fullfailchange').style.display="";
                    	document.getElementById('failchange').style.display="";
                    	document.getElementById('errormessagechange').innerHTML="New passwords are not the same!";
                    }
                    else if(@state.equals("oldpasswordwrong")){
                    	document.getElementById('fullfailchange').style.display="";
                    	document.getElementById('failchange').style.display="";
                    	document.getElementById('errormessagechange').innerHTML="Old passwords is wrong!";
                    }
                    
                    else if (@state.equals("passwordfail")){
                    	document.getElementById('fullfailchange').style.display="";
                    	document.getElementById('failchange').style.display="";
                    	document.getElementById('errormessagechange').innerHTML="New password should not be the same as the old one!";
                    }
                    else if(@state.equals("userfail")){
                    	document.getElementById('fullfailchange').style.display="";
                    	document.getElementById('failchange').style.display="";
                    	document.getElementById('errormessagechange').innerHTML="User is not existing!";
                    }
                    </script>

                </fieldset>
            </form>
        </main>
    </section>
}